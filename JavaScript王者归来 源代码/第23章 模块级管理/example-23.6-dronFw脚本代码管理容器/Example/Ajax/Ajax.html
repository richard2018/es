<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta http-equiv="Content-Language" content="zh-CN">
<title>DronFw Example</title>
<style type="text/css"> td,body{font-size:12px;} </style>
<script type="text/javascript" src="../../DronFw/boot.js" loadClass="Ajax"></script>
</head>
<body>
<h2>游戏人 Ajax 类</h2>
<hr>

<script type="text/javascript">
	var Ajax = new DronFw.Class.Ajax();
	function showHttp(r)
	{
		window.alert("test.txt 的内容：\n\n" + r.responseText);
		Ajax.loadXml("test.xml", true, showXml);
		// window.alert(Ajax.getXml(Ajax.loadXml("test.xml")))  //测试同步
	}
	function showXml(xDom)
	{
		var r = Ajax.getXml(xDom);
		window.alert("test.xml 的内容：\n\n" + r);
		if (document.all) window.alert("book节点的内容是：\n\n" + xDom.getElementsByTagName("book")[0].text);
		else window.alert("book节点的内容：\n\n" + xDom.getElementsByTagName("book")[0].textContent);
	}
	Ajax.loadHttp("test.txt", true, showHttp);
	// window.alert(Ajax.loadHttp("test.txt"))  //测试同步


/*
	Ajax 类有如下方法：
	loadHttp(url, asy, fun)   返回指定url的文本内容，asy指定是否异步，如果异步，xmlHttp做为参数并执行fun
	loadXml(url, asy, fun)   返回xmlDom对象，url为xml的地址，asy指定是否异步，如果异步，xmlDom做为参数并执行fun
	Bin2Str(bin)		返回二进制数据bin的字符串形式
	getXml(xDom)  返回指定xDom对象的xml内容
	getRemote(url, char, reg)  抓取指定网址，详情见 http://www.ucren.com/dronfw/Example/Ajax/Ajax2.html

	注意，getRemote 方法需要asp服务器支持。
*/
</script>

</body>
</html>