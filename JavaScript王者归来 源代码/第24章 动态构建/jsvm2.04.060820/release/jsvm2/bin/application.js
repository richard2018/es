_JSVM_Namespace.runtimeEnvironment.loadModule("application",function(){var jsre=_JSVM_Namespace.runtimeEnvironment,JSVM=jsre.JSVM;window.application=new function(){this.title="Web Application";this.main="url("+jsre.jsvmHome+"/bin/res/__web.htm)";this.moduleUrl="off";this.mainFrame=null;this.state=0;var isIe=(jsre.navigator=="ie");var isMoz=(jsre.navigator=="moz");var shareProxyClassloader=isIe?new function(){var classloader=JSVM.getClassloader();this.loadClass=function(name){try{return classloader.loadClass(name);}catch(ex){JSVM.console.output("Application throw exceptions: ");ex.printStackTrace();return null;}};this.loadPackage=function(name){try{return classloader.loadPackage(name);}catch(ex){ex.printStackTrace();return null;}};this.loadLib=function(obj){try{return classloader.loadLib(obj);}catch(ex){ex.printStackTrace();return null;}}}:JSVM.getClassloader();this.getShareClassloader=function(){return shareProxyClassloader;};this.getWindow=function(){return window;};this.getDocument=function(){return document;};this.live=function(){return(window.closed==false);};var ctxpath=null;this.getContextPath=function(){return(ctxpath!=null)?ctxpath:(ctxpath=document.URL.replace(/[^\\\/]*$/,""));};this.getParameter=function(name){var re=new RegExp("([\?]|&)("+name+"=)([^&]*)");return re.test(window.location.search)?unescape(RegExp.$3):null;};var properties={};this.setProperty=function(name,val){properties[name]=val;};this.getProperty=function(name){return properties[name];};this.setMain=function(main){this.main=main;};this.showMainForm=function(url){this.mainFrame.location.href=url;};this.exit=function(){this.state=2;window.opener=null;window.close();};this.initialize=function(){var application=this;var tmpvar=null;this.main=jsre.config.getParameter("main");document.clear();if(isMoz&&jsre.extModules.length>0){document.write('<body topmargin="0"leftmargin="0"bottommargin="0"rightmargin="0">'+'<iframe frameborder="0"id="Mainframe"name="Mainframe"'+'style="width:100%;height:100%"></iframe></body>');}else{document.write('<frameset rows="*"><frame application="yes"frameborder="0"'+' id="Mainframe"name="Mainframe"scrolling="yes"/></frameset>');};var window_onload=function(){application.mainFrame=window.Mainframe;if(/^url\((.*)\)$/.test(application.main)){application.showMainForm(RegExp.$1);}else if(/^class\((.*)\)$/.test(application.main)){try{var mainClass=RegExp.$1;var args=(location.hash=="")?[]:location.hash.substring(1).split("&");for(var i=0;i<args.length;i++){args[i]=unescape(args[i]);};Class.forName(mainClass).main(args);}catch(ex){JSVM.console.output("application main-class run error: "+ex.toString());}}};var doc_onkeydown=function(arg){var evt=arg||event;if((evt.ctrlKey&&",17,66,70,78,80,".indexOf(","+evt.keyCode+",")!=-1)||evt.keyCode==116){try{evt.keyCode=0;}catch(ex){};try{evt.returnValue=false;}catch(ex){};try{evt.preventDefault();}catch(ex){}}};if(jsre.navigator=="ie"){window.attachEvent("onload",window_onload);document.attachEvent("onkeydown",doc_onkeydown);}else{window.addEventListener("load",window_onload,false);document.addEventListener("keydown",doc_onkeydown,false);};this.state=1;}};application.initialize();});